# AI æ•™æè½‰æ›å™¨ - é–‹ç™¼æŒ‡å—

## ğŸ› ï¸ é–‹ç™¼ç’°å¢ƒè¨­å®š

### å‰ç½®éœ€æ±‚
- Node.js 18+
- npm æˆ– yarn
- Git
- ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ï¼ˆæ¨è–¦ VS Codeï¼‰

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
æ•™æè½‰æ›å°ˆæ¡ˆ/
â”œâ”€â”€ app/                     # å‰ç«¯æ‡‰ç”¨ç¨‹å¼
â”‚   â”œâ”€â”€ index.html          # ä¸»é é¢
â”‚   â”œâ”€â”€ css/               
â”‚   â”‚   â””â”€â”€ styles.css      # æ¨£å¼æª”æ¡ˆ
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ config.js       # é…ç½®æª”æ¡ˆ
â”‚       â”œâ”€â”€ aiService.js    # AI æœå‹™ï¼ˆå‘¼å«å¾Œç«¯ï¼‰
â”‚       â”œâ”€â”€ fileHandler.js  # æª”æ¡ˆè™•ç†
â”‚       â”œâ”€â”€ main.js         # ä¸»ç¨‹å¼é‚è¼¯
â”‚       â”œâ”€â”€ pdfGenerator.js # PDF ç”Ÿæˆ
â”‚       â”œâ”€â”€ wordGenerator.js # Word ç”Ÿæˆ
â”‚       â””â”€â”€ storage.js      # æœ¬åœ°å„²å­˜
â”‚
â”œâ”€â”€ server/                  # å¾Œç«¯æœå‹™
â”‚   â”œâ”€â”€ index.js            # Express ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ api.js          # API è·¯ç”±
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ gemini.js       # Gemini API æœå‹™
â”‚   â””â”€â”€ middleware/
â”‚       â””â”€â”€ rateLimiter.js  # é€Ÿç‡é™åˆ¶
â”‚
â”œâ”€â”€ docs/                    # æ–‡ä»¶
â”œâ”€â”€ package.json            # Node.js é…ç½®
â”œâ”€â”€ .env.example            # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â””â”€â”€ .gitignore             # Git å¿½ç•¥æ¸…å–®
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å…‹éš†å°ˆæ¡ˆ
```bash
git clone <repository-url>
cd æ•™æè½‰æ›å°ˆæ¡ˆ
```

### 2. å®‰è£ä¾è³´
```bash
npm install
```

### 3. è¨­å®šç’°å¢ƒè®Šæ•¸
```bash
# Windows
copy .env.example .env

# macOS/Linux
cp .env.example .env
```

ç·¨è¼¯ `.env` æª”æ¡ˆï¼š
```env
GEMINI_API_KEY=your_actual_api_key_here
PORT=3000
NODE_ENV=development
```

### 4. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
```bash
npm start
```

### 5. è¨ªå•æ‡‰ç”¨ç¨‹å¼
é–‹å•Ÿç€è¦½å™¨è¨ªå•: `http://localhost:3000`

---

## ğŸ”§ é–‹ç™¼ç›¸é—œæŒ‡ä»¤

```bash
# å•Ÿå‹•ä¼ºæœå™¨
npm start

# å•Ÿå‹•ä¼ºæœå™¨ï¼ˆè‡ªå‹•é‡å•Ÿï¼Œéœ€è¦ Node 18+ï¼‰
npm run dev

# åªå•Ÿå‹•å¾Œç«¯
npm run server
```

---

## ğŸŒ API ç«¯é»èªªæ˜

### å¾Œç«¯ API

#### `GET /health`
å¥åº·æª¢æŸ¥ç«¯é»

**å›æ‡‰ï¼š**
```json
{
  "status": "OK",
  "timestamp": "2025-12-07T...",
  "service": "AI Courseware Converter API"
}
```

#### `GET /api/status`
æª¢æŸ¥ API é…ç½®ç‹€æ…‹

**å›æ‡‰ï¼š**
```json
{
  "status": "OK",
  "apiConfigured": true,
  "timestamp": "2025-12-07T..."
}
```

#### `POST /api/analyze`
AI åˆ†æç«¯é»

**è«‹æ±‚ï¼š**
```json
{
  "stage": "analyze" | "structure",
  "content": "æ•™æå…§å®¹..."
}
```

**å›æ‡‰ï¼ˆæˆåŠŸï¼‰ï¼š**
```json
{
  "success": true,
  "stage": "analyze",
  "result": "åˆ†æçµæœ..."
}
```

**å›æ‡‰ï¼ˆå¤±æ•—ï¼‰ï¼š**
```json
{
  "error": "éŒ¯èª¤é¡å‹",
  "message": "éŒ¯èª¤è¨Šæ¯"
}
```

---

## ğŸ“ å‰ç«¯æ¶æ§‹

### æ¨¡çµ„èªªæ˜

#### `config.js`
- æ‡‰ç”¨ç¨‹å¼é…ç½®
- å¾Œç«¯ API URL
- é¡è‰²ä¸»é¡Œè¨­å®š
- æª”æ¡ˆè¨­å®š

#### `aiService.js`
- å‘¼å«å¾Œç«¯ API
- è™•ç† AI åˆ†ææµç¨‹
- éŒ¯èª¤è™•ç†

#### `fileHandler.js`
- Word/PDF æª”æ¡ˆè§£æ
- åœ–ç‰‡æå–
- æ ¼å¼è½‰æ›

#### `main.js`
- ä¸»è¦æ‡‰ç”¨ç¨‹å¼é‚è¼¯
- UI äº‹ä»¶è™•ç†
- ç‹€æ…‹ç®¡ç†

#### `pdfGenerator.js`
- PDF ç”Ÿæˆ
- é ç¢¼è¨ˆç®—
- åˆ—å°é è¦½

#### `wordGenerator.js`
- Word æ–‡ä»¶ç”Ÿæˆ
- æ ¼å¼åŒ–

#### `storage.js`
- LocalStorage ç®¡ç†
- å°ˆæ¡ˆå„²å­˜/è¼‰å…¥

---

## ğŸ”’ å®‰å…¨æ€§æ³¨æ„äº‹é …

### API Key ç®¡ç†
- âŒ çµ•å°ä¸è¦å°‡ `.env` æª”æ¡ˆæäº¤åˆ° Git
- âœ… ä½¿ç”¨ç’°å¢ƒè®Šæ•¸
- âœ… å®šæœŸæ›´æ› API Key

### CORS è¨­å®š
é–‹ç™¼ç’°å¢ƒé è¨­å…è¨± `localhost:3000`

ç”Ÿç”¢ç’°å¢ƒéœ€åœ¨ `.env` ä¸­è¨­å®šï¼š
```env
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
```

---

## ğŸ§ª æ¸¬è©¦

### æ‰‹å‹•æ¸¬è©¦æµç¨‹

1. **æ¸¬è©¦æª”æ¡ˆä¸Šå‚³**
   - ä¸Šå‚³ Word æ–‡ä»¶
   - ä¸Šå‚³ PDF æ–‡ä»¶
   - æ¸¬è©¦åœ–ç‰‡æå–

2. **æ¸¬è©¦ AI åˆ†æ**
   - ç¢ºèªå¾Œç«¯é€£æ¥
   - æ¸¬è©¦åˆ†æéšæ®µ
   - æ¸¬è©¦çµæ§‹åŒ–éšæ®µ

3. **æ¸¬è©¦è¼¸å‡ºåŠŸèƒ½**
   - ä¸‹è¼‰ PDF
   - ä¸‹è¼‰ Word
   - æª¢æŸ¥æ ¼å¼æ­£ç¢ºæ€§

### API æ¸¬è©¦

ä½¿ç”¨ curl æˆ– Postman æ¸¬è©¦ï¼š

```bash
# æ¸¬è©¦å¥åº·æª¢æŸ¥
curl http://localhost:3000/health

# æ¸¬è©¦ API ç‹€æ…‹
curl http://localhost:3000/api/status

# æ¸¬è©¦ AI åˆ†æ
curl -X POST http://localhost:3000/api/analyze \
  -H "Content-Type: application/json" \
  -d '{"stage":"analyze","content":"æ¸¬è©¦å…§å®¹"}'
```

---

## ğŸ› é™¤éŒ¯æŠ€å·§

### å‰ç«¯é™¤éŒ¯
1. é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console åˆ†é çš„éŒ¯èª¤è¨Šæ¯
3. æŸ¥çœ‹ Network åˆ†é çš„ API è«‹æ±‚

### å¾Œç«¯é™¤éŒ¯
1. æŸ¥çœ‹çµ‚ç«¯çš„ä¼ºæœå™¨æ—¥èªŒ
2. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸æ˜¯å¦æ­£ç¢ºè¼‰å…¥
3. æ¸¬è©¦ API ç«¯é»å›æ‡‰

### å¸¸è¦‹å•é¡Œ

**Q: å‰ç«¯ç„¡æ³•é€£æ¥å¾Œç«¯**
- æª¢æŸ¥å¾Œç«¯ä¼ºæœå™¨æ˜¯å¦å•Ÿå‹•
- æª¢æŸ¥ç«¯å£è™Ÿæ˜¯å¦æ­£ç¢ºï¼ˆé è¨­ 3000ï¼‰
- æª¢æŸ¥ `config.js` ä¸­çš„ `BACKEND_API_URL`

**Q: AI åˆ†æå¤±æ•—**
- æª¢æŸ¥ `.env` ä¸­çš„ `GEMINI_API_KEY` æ˜¯å¦æ­£ç¢º
- æª¢æŸ¥ API é…é¡æ˜¯å¦ç”¨ç›¡
- æŸ¥çœ‹å¾Œç«¯æ—¥èªŒçš„è©³ç´°éŒ¯èª¤è¨Šæ¯

**Q: é€Ÿç‡é™åˆ¶éŒ¯èª¤ï¼ˆ429ï¼‰**
- ç­‰å¾… 15 åˆ†é˜å¾Œé‡è©¦
- æˆ–èª¿æ•´ `.env` ä¸­çš„é€Ÿç‡é™åˆ¶è¨­å®š

---

## ğŸ“¦ å»ºç½®èˆ‡éƒ¨ç½²

### æœ¬åœ°å»ºç½®
```bash
# ç¢ºä¿ä¾è³´å·²å®‰è£
npm install

# æ¸¬è©¦å•Ÿå‹•
npm start
```

### Docker å»ºç½®
```bash
# å»ºç«‹æ˜ åƒ
docker build -t ai-courseware-converter .

# å•Ÿå‹•å®¹å™¨
docker run -p 3000:3000 \
  -e GEMINI_API_KEY=your_key \
  ai-courseware-converter
```

è©³ç´°éƒ¨ç½²èªªæ˜è«‹åƒé–±: [éƒ¨ç½²æŒ‡å—](./éƒ¨ç½²æŒ‡å—.md)

---

## ğŸ¤ è²¢ç»æŒ‡å—

### é–‹ç™¼æµç¨‹
1. Fork å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

### ç¨‹å¼ç¢¼é¢¨æ ¼
- ä½¿ç”¨ 2 ç©ºæ ¼ç¸®æ’
- å‡½å¼å’Œè®Šæ•¸ä½¿ç”¨æœ‰æ„ç¾©çš„å‘½å
- åŠ å…¥é©ç•¶çš„è¨»è§£

---

## ğŸ“š ç›¸é—œè³‡æº

- [Google Gemini API æ–‡æª”](https://ai.google.dev/docs)
- [Express.js æ–‡æª”](https://expressjs.com/)
- [Mammoth.js (Word è§£æ)](https://github.com/mwilliamson/mammoth.js)
- [PDF.js (PDF è§£æ)](https://mozilla.github.io/pdf.js/)

---

## ğŸ“ å–å¾—å”åŠ©

- æŸ¥çœ‹ [ä½¿ç”¨èªªæ˜](../app/ä½¿ç”¨èªªæ˜.md)
- æŸ¥çœ‹ [éƒ¨ç½²æŒ‡å—](./éƒ¨ç½²æŒ‡å—.md)
- è¯çµ¡ç³»çµ±ç®¡ç†å“¡
